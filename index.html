<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Local Lens — Travel Guide Prototype</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fbf7ff;
      --purple:#7c3aed;
      --pink:#ec4899;
      --grad: linear-gradient(135deg,var(--purple),var(--pink));
      --card:#ffffff;
      --muted:#6b7280;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(800px 300px at 10% 10%, rgba(124,58,237,0.07), transparent), var(--bg);color:#111827}
    .wrap{max-width:1100px;margin:28px auto;padding:18px}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:var(--grad);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;box-shadow:0 8px 30px rgba(124,58,237,0.12)}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}
    .search{display:flex;gap:8px;align-items:center;background:#fff;padding:8px;border-radius:999px;box-shadow:0 8px 20px rgba(15,23,42,0.05);width:420px}
    .search input{border:0;outline:0;padding:6px;font-size:14px;flex:1}
    .btn{background:var(--grad);color:#fff;padding:9px 14px;border-radius:999px;border:0;font-weight:700;cursor:pointer}
    main{display:grid;grid-template-columns:1fr 320px;gap:20px;margin-top:20px}
    .hero{border-radius:14px;overflow:hidden;position:relative;min-height:200px;box-shadow:0 12px 30px rgba(15,23,42,0.06)}
    .hero img{Width:100%;height:100%;object-fit:cover;display:block}
    /*.hero .text{position:absolute;left:18px;bottom:18px;color:#fff}*/
    .section{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 8px 24px rgba(15,23,42,0.04)}
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin-top:12px}
    .card{display:flex;gap:10px;padding:10px;border-radius:12px;align-items:flex-start}
    .card img{width:100px;height:72px;border-radius:10px;object-fit:cover;flex-shrink:0}
    .muted{color:var(--muted);font-size:13px}
    aside{position:relative}
    .side-block{margin-bottom:12px;background:var(--card);padding:12px;border-radius:12px;box-shadow:0 8px 20px rgba(15,23,42,0.04)}
    .it-list{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .it-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.04)}
    .map{height:220px;border-radius:10px;overflow:hidden;background:linear-gradient(180deg,rgba(124,58,237,0.06),rgba(236,72,153,0.03))}
    .pin{position:absolute;transform:translate(-50%,-100%);cursor:pointer}
    .footer{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;background:rgba(255,255,255,0.9);backdrop-filter:blur(6px);padding:10px;border-radius:999px;display:flex;gap:10px;box-shadow:0 12px 30px rgba(15,23,42,0.06)}
    .nav-btn{padding:8px 12px;border-radius:999px;border:0;background:transparent;cursor:pointer;font-weight:600;color:var(--muted)}
    label{display:block;font-size:13px;margin-bottom:6px}
    input[type="number"], input[type="text"], textarea{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.06);font-size:14px}
    .small{font-size:12px;color:var(--muted)}
    @media (max-width:980px){
      main{grid-template-columns:1fr;padding-bottom:140px}
      .search{width:100%}
      .footer{left:16px;transform:none;width:calc(100% - 32px);justify-content:space-between}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">LL</div>
        <div>
          <h1>Local Lens</h1>
          <p class="lead">See the city like a local</p>
        </div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:0.7"><path d="M21 21l-4.35-4.35" stroke="#374151" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="search" placeholder="Search places, food, tips..."/>
        </div>
        <button class="btn" id="openPlanner">Planner</button>
      </div>
    </header>

    <main>
      <div>
        <div class="hero section">
          <img id="heroImg" src="https://images.unsplash.com/photo-1505765059083-8b3b7f6b5b78?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=aa0c4f6a" alt="hero">
          <div class="text">
            <h2 id="heroTitle">Hidden Cafes & Local Streets</h2>
            <p id="heroDesc" class="small">Discover small cafes, street art and local markets recommended by residents.</p>
          </div>
        </div>

        <div class="section" style="margin-top:14px">
          <h3>Top Local Picks</h3>
          <div class="cards" id="cards">
            <!-- injected -->
          </div>
        </div>

        <div class="section" style="margin-top:14px">
          <h3>Culture & Tips</h3>
          <p class="muted">Short guides on customs, greetings, and local festivals so you travel respectfully and enjoy more.</p>
          <ul style="margin-top:8px">
            <li class="small">How to greet locals</li>
            <li class="small">Tipping and payments</li>
            <li class="small">Dress and festivals</li>
          </ul>
        </div>

        <div class="section" style="margin-top:14px">
          <h3>Map Preview (Offline-ready)</h3>
          <div class="map" id="map">
            <img src="https://images.unsplash.com/photo-1503264116251-35a269479413?q=80&w=1600&auto=format&fit=crop&ixlib=rb-4.0.3&s=mapbg" style="width:100%;height:100%;object-fit:cover;filter:grayscale(0.1) brightness(0.9)">
            <div class="pin" style="left:25%;top:45%" data-id="1"><div style="width:36px;height:36px;border-radius:50%;background:var(--purple);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700">1</div></div>
            <div class="pin" style="left:48%;top:28%" data-id="2"><div style="width:36px;height:36px;border-radius:50%;background:var(--pink);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700">2</div></div>
            <div class="pin" style="left:72%;top:62%" data-id="3"><div style="width:36px;height:36px;border-radius:50%;background:linear-gradient(90deg,var(--purple),var(--pink));color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700">3</div></div>
          </div>
        </div>
      </div>

      <aside>
        <div class="side-block">
          <h3>Selected Place</h3>
          <div style="display:flex;gap:10px;align-items:center;margin-top:10px">
            <img id="selImg" src="" style="width:76px;height:64px;border-radius:8px;object-fit:cover;display:none">
            <div>
              <div id="selName" style="font-weight:700">No place selected</div>
              <div id="selCity" class="muted">Click a pin or card</div>
              <div style="margin-top:8px;display:flex;gap:8px">
                <button class="btn" id="addBtn" style="padding:7px 10px">Add to Trip</button>
                <button class="nav-btn" id="viewMap">Map</button>
              </div>
            </div>
          </div>
        </div>

        <div class="side-block">
          <h3>Itinerary <small class="small">(<span id="count">0</span>)</small></h3>
          <div class="it-list" id="itList"><div class="small muted">No items yet</div></div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn" id="savePlan">Save</button>
            <button class="nav-btn" id="exportPlan">Export</button>
          </div>
        </div>

        <div class="side-block">
          <h3>Budget Tracker</h3>
          <label>Enter expected cost (₹)</label>
          <input type="number" id="costInput" placeholder="e.g., 2500">
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="addCost">Add</button>
            <button class="nav-btn" id="clearCost">Clear</button>
          </div>
          <p class="small muted" style="margin-top:8px">Total: ₹<span id="total">0</span></p>
        </div>

        <div class="side-block">
          <h3>Reviews</h3>
          <textarea id="reviewText" rows="3" placeholder="Write a quick tip or review..."></textarea>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="postReview">Post</button>
            <button class="nav-btn" id="clearReview">Clear</button>
          </div>
          <div id="reviews" style="margin-top:10px"><div class="small muted">No reviews yet</div></div>
        </div>

        <div class="side-block">
          <h3>Photo Journal</h3>
          <input type="file" id="photoUpload" accept="image/*" />
          <div id="photoList" style="margin-top:8px"></div>
        </div>
      </aside>
    </main>

    <div class="footer" role="navigation">
      <button class="nav-btn" id="navHome">Home</button>
      <button class="nav-btn" id="navMap">Map</button>
      <button class="nav-btn" id="navPlanner">Planner</button>
    </div>
  </div>

<script>
  const PLACES = [
    {id:1,name:'Hidden Cafe',city:'Local Town',img:'https://images.unsplash.com/photo-1498654896293-37aacf113fd9?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=cafe',desc:'Small cafe with local desserts',tips:'Try the house special.'},
    {id:2,name:'Street Market',city:'Old Quarter',img:'https://images.unsplash.com/photo-1543353071-873f17a7a088?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=market',desc:'Colorful market with crafts and food',tips:'Bargain respectfully.'},
    {id:3,name:'Sunset Viewpoint',city:'Hill Area',img:'https://images.unsplash.com/photo-1501785888041-af3ef285b470?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=teagarden',desc:'Quiet spot for sunset',tips:'Come 30 mins before sunset.'}
  ];

  let itinerary = [];
  let totalCost = 0;

  const cards = document.getElementById('cards');
  const selName = document.getElementById('selName');
  const selCity = document.getElementById('selCity');
  const selImg = document.getElementById('selImg');
  const itList = document.getElementById('itList');
  const count = document.getElementById('count');
  const total = document.getElementById('total');
  const reviews = document.getElementById('reviews');
  const photoList = document.getElementById('photoList');
  const heroImg = document.getElementById('heroImg');
  const heroTitle = document.getElementById('heroTitle');
  const heroDesc = document.getElementById('heroDesc');

  function renderCards(filter=''){
    cards.innerHTML = '';
    const res = PLACES.filter(p => (p.name + ' ' + p.city).toLowerCase().includes(filter.toLowerCase()));
    res.forEach(p => {
      const el = document.createElement('div');
      el.className = 'card section';
      el.innerHTML = `
        <img src="${p.img}" alt="${p.name}">
        <div>
          <div style="display:flex;justify-content:space-between"><strong>${p.name}</strong><div class="small muted">${p.city}</div></div>
          <div class="small muted" style="margin-top:6px">${p.desc}</div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn select" data-id="${p.id}" style="padding:6px 10px;font-size:13px">Select</button>
            <button class="nav-btn add" data-id="${p.id}">Add</button>
            <button class="nav-btn tip" data-tip="${p.tips}">Tip</button>
          </div>
        </div>
      `;
      cards.appendChild(el);
    });
    document.querySelectorAll('.select').forEach(b => b.addEventListener('click', e => {
      const id = +e.currentTarget.dataset.id;
      selectPlace(PLACES.find(x=>x.id===id));
      window.scrollTo({top:0,behavior:'smooth'});
    }));
    document.querySelectorAll('.add').forEach(b => b.addEventListener('click', e => {
      const id = +e.currentTarget.dataset.id;
      addToItinerary(PLACES.find(x=>x.id===id));
    }));
    document.querySelectorAll('.tip').forEach(b => b.addEventListener('click', e=> alert('Local tip: ' + e.currentTarget.dataset.tip)));
  }

  function selectPlace(p){
    selName.textContent = p.name;
    selCity.textContent = p.city;
    selImg.src = p.img;
    selImg.style.display = 'block';
    heroImg.src = p.img;
    heroTitle.textContent = p.name;
    heroDesc.textContent = p.desc;
  }

  function addToItinerary(p){
    if(itinerary.find(x=>x.id===p.id)) return alert('Already added');
    itinerary.push(p);
    renderItinerary();
  }

  function renderItinerary(){
    itList.innerHTML = '';
    if(itinerary.length===0){ itList.innerHTML = '<div class="small muted">No items yet</div>'; }
    else {
      itinerary.forEach(item=>{
        const div = document.createElement('div');
        div.className = 'it-item';
        div.innerHTML = `<div><strong>${item.name}</strong><div class="small muted">${item.city}</div></div>
        <div style="display:flex;gap:8px"><button class="nav-btn" onclick="viewItem(${item.id})">View</button><button class="nav-btn" onclick="removeItem(${item.id})" style="color:#ef4444">Remove</button></div>`;
        itList.appendChild(div);
      });
    }
    count.textContent = itinerary.length;
  }

  window.viewItem = function(id){ selectPlace(PLACES.find(p=>p.id===id)); window.scrollTo({top:0,behavior:'smooth'}); }
  window.removeItem = function(id){ itinerary = itinerary.filter(x=>x.id!==id); renderItinerary(); }

  // map pin clicks
  document.querySelectorAll('.pin').forEach(pin => pin.addEventListener('click', ()=> {
    const id = +pin.dataset.id;
    selectPlace(PLACES.find(p=>p.id===id));
  }));

  // search
  document.getElementById('search').addEventListener('input', e => renderCards(e.target.value));

  // planner add from sidebar
  document.getElementById('addBtn').addEventListener('click', ()=> {
    const name = selName.textContent;
    const place = PLACES.find(p=>p.name===name);
    if(place) addToItinerary(place);
    else alert('Select a place first');
  });

  // budget
  document.getElementById('addCost').addEventListener('click', ()=> {
    const v = parseInt(document.getElementById('costInput').value||0,10);
    if(!v) return alert('Enter an amount');
    totalCost += v;
    total.textContent = totalCost;
    document.getElementById('costInput').value = '';
  });
  document.getElementById('clearCost').addEventListener('click', ()=> { totalCost = 0; total.textContent = '0'; });

  // reviews
  document.getElementById('postReview').addEventListener('click', ()=> {
    const t = document.getElementById('reviewText').value.trim();
    if(!t) return alert('Write something first');
    const el = document.createElement('div');
    el.className = 'small';
    el.style.marginTop = '8px';
    el.textContent = '• ' + t;
    if(reviews.querySelector('.small.muted')) reviews.innerHTML = '';
    reviews.prepend(el);
    document.getElementById('reviewText').value = '';
  });
  document.getElementById('clearReview').addEventListener('click', ()=> { document.getElementById('reviewText').value=''; });

  // photo upload preview
  document.getElementById('photoUpload').addEventListener('change', (e)=> {
    const files = Array.from(e.target.files);
    files.forEach(file=>{
      const reader = new FileReader();
      reader.onload = function(ev){
        const img = document.createElement('img');
        img.src = ev.target.result;
        img.style.width = '100%';
        img.style.borderRadius = '8px';
        img.style.marginTop = '8px';
        photoList.prepend(img);
      }
      reader.readAsDataURL(file);
    });
    e.target.value='';
  });

  // nav buttons
  document.getElementById('navHome').addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));
  document.getElementById('navMap').addEventListener('click', ()=> document.getElementById('map').scrollIntoView({behavior:'smooth'}));
  document.getElementById('navPlanner').addEventListener('click', ()=> document.getElementById('openPlanner').click());
  document.getElementById('openPlanner').addEventListener('click', ()=> document.querySelector('aside').scrollIntoView({behavior:'smooth'}));
  document.getElementById('savePlan').addEventListener('click', ()=> {
    if(itinerary.length===0) return alert('No items to save');
    alert('Plan saved: ' + itinerary.map(i=>i.name).join(', '));
  });
  document.getElementById('exportPlan').addEventListener('click', ()=> window.print());

  // init
  renderCards();
</script>
</body>
</html>
